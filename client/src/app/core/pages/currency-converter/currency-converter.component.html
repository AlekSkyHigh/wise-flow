<div class="mt-24">

  <div class="text-3xl mb-10 text-white flex justify-center">
    <h2>WiseFlow Currency Converter</h2>
  </div>

  <div class="flex justify-center items-center">

    <div class="p-4 text-white text-lg flex-col lg:w-1/3">

      <div class="mb-4">
        <label class="block mb-1" for="amountInput">Amount in EUR €</label>
        <input class="w-full border rounded px-2 py-1 text-black" type="number" id="amountInput" [(ngModel)]="amount" />
      </div>

      <div class="mb-4">
        <label class="block mb-1" for="targetCurrencySelect">Target Currency:</label>
        <select class="w-full border rounded px-2 py-1 text-black" id="targetCurrencySelect"
          [(ngModel)]="targetCurrency">
          <option *ngFor="let currency of currencies" [value]="currency">{{ currency }}</option>
        </select>
      </div>

      <button
        class="w-full bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-30% to-emerald-500 to-90% hover:from-pink-500 hover:to-yellow-500 text-white dark:text-gray-200 font-bold py-2 px-4 rounded mt-16"
        (click)="convertCurrency()">Convert</button>

      <!-- Spinner -->
      <app-loading [isLoading]="isLoading"></app-loading>

      <!-- Use ng-container to wrap the converted amount div -->
      <ng-container *ngIf="convertedAmount !== null && convertedAmount !== undefined">
        <div class="mb-4 mt-10">
          <label class="block mb-1">Converted Amount:</label>
          <div
            class="border rounded-full px-4 py-2 bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-30% to-emerald-500 to-90% hover:from-pink-500 hover:to-yellow-500">
            <span class="text-3xl text-white">€{{amount}} = {{ convertedAmount }} {{ targetCurrency }}</span>
          </div>
        </div>
        <div class="mb-4 mt-10">
          <label class="block mb-1">Rate:</label>
          <div
            class="border rounded-full px-4 py-2 bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-30% to-emerald-500 to-90% hover:from-pink-500 hover:to-yellow-500">
            <span class="text-3xl text-white">{{ rate }}</span>
          </div>
        </div>
      </ng-container>

    </div>
  </div>

</div>